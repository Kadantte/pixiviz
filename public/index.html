<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"
    />
    <link rel="icon" href="<%= BASE_URL %>favicon.png" />
    <title>Pixiviz</title>
    <meta name="description" content="跨次元链接~，一个简单的二次元图片分享站" />
    <meta
      name="keywords"
      content="pixiv,pixiviz,Pixiv,Pixiviz,ACG,p站,pixiv排行,二次元插图,二次元插画,动漫图片,动漫插图,动漫插画"
    />
    <script type="text/javascript">
      (function(w) {
        w.frontjsConfig = {
          token: '0895802c5106769622a896b6d14df337',
          behaviour: 13,
          ignoreVendor: true,
          optimisedForSPA: true,
          useHistory: true,
          origin: [
            'pixiviz.pwp.app',
            'pixiv-image.pwp.link',
            'pixiv-image-jp.pwp.link',
            'config.backrunner.top',
          ],
          FPSThreshold: 8,
        };
        w.frontjsTmpData = { r: [], e: [], l: [] };
        w.frontjsTmpCollector = function(ev) {
          (ev.message ? window.frontjsTmpData.e : window.frontjsTmpData.r).push([
            new Date().getTime(),
            ev,
          ]);
        };
        w.FrontJS = {
          addEventListener: function(t, f) {
            w.frontjsTmpData.l.push([t, f]);
            return f;
          },
          removeEventListener: function(t, f) {
            for (var i = 0; i < w.frontjsTmpData.l.length; i++) {
              t === w.frontjsTmpData.l[i][0] &&
                f === w.frontjsTmpData.l[i][1] &&
                w.frontjsTmpData.l.splice(i, 1);
            }
            return f;
          },
        };
        w.document.addEventListener('error', w.frontjsTmpCollector, true);
        w.addEventListener('error', w.frontjsTmpCollector, true);
        w.addEventListener(
          'load',
          function() {
            var n = w.document.createElement('script');
            n.src = 'https://frontjs-static.pgyer.com/dist/current/frontjs.web.min.js';
            w.document.body.appendChild(n);
          },
          true,
        );
      })(window);
    </script>
    <script>
      // dark mode enhancement
      (() => {
        if (!window.pixiviz) {
          window.pixiviz = {};
        }
        const darkEnabled = window.localStorage.getItem('enable-dark');
        const darkPersist = window.localStorage.getItem('dark-persist');
        window.pixiviz.darkEnabled = darkEnabled === 'true';
        window.pixiviz.darkPersist = darkPersist === 'true';
        if (!window.pixiviz.darkEnabled) {
          return;
        }
        const hour = new Date().getHours();
        if (window.pixiviz.darkPersist || hour < 6 || hour >= 18) {
          document.documentElement.classList.add('dark');
          window.pixiviz.darkMode = true;
        }
      })();
    </script>
  </head>
  <body>
    <noscript>
      <strong>很抱歉，Pixiviz 需要在您浏览器启用 JavaScript 支持的情况下才能正常使用。</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
